function redirectApp(a){document.addEventListener("visibilitychange",putNoResponse,false);if(a.type=="wechat"){var b=a.wechat;setTimeout(function(){Wechat_GotoRedirect(b["appid"],b["extend"],b["timestamp"],b["sign"],b["shopid"],b["authurl"],b["mac"],b["ssid"],b["bssid"])},2000);setTimeout(function(){window.location.href=a.url},4000)}else{window.location.href=a.url}}function Wechat_GotoRedirect(k,g,f,c,j,d,h,b,e){var a="https://wifi.weixin.qq.com/operator/callWechatBrowser.xhtml?appId="+k+"&extend="+g+"&timestamp="+f+"&sign="+c;if(d&&j){a="https://wifi.weixin.qq.com/operator/callWechat.xhtml?appId="+k+"&extend="+g+"&timestamp="+f+"&sign="+c+"&shopId="+j+"&authUrl="+encodeURIComponent(d)+"&mac="+h+"&ssid="+b+"&bssid="+e}var i=document.createElement("script");i.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(i)}function jsonpCallback(a){if(a&&a.success){var b=navigator.userAgent;if(b.indexOf("iPhone")!=-1||b.indexOf("iPod")!=-1||b.indexOf("iPad")!=-1){createIframe();callUpTimestamp=new Date().getTime();loadIframe.src=a.data;noResponse=setTimeout(function(){loadIframe.src=a.data},4000)}else{createIframe();callUpTimestamp=new Date().getTime();loadIframe.src=a.data;noResponse=setTimeout(function(){loadIframe.src=a.data},3000)}}}function createIframe(){var a=document.createElement("iframe");a.style.cssText="display:none;width:0px;height:0px;";document.body.appendChild(a);loadIframe=a}var loadIframe=null;var noResponse=null;var callUpTimestamp=0;function putNoResponse(a){clearTimeout(noResponse)};